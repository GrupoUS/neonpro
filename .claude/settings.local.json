{
  "allowedToolsUnguarded": [
    "mcp__archon__create_project",
    "mcp__archon__list_projects",
    "mcp__archon__get_project",
    "mcp__archon__update_project",
    "mcp__archon__delete_project",
    "mcp__archon__create_task",
    "mcp__archon__list_tasks",
    "mcp__archon__get_task",
    "mcp__archon__update_task",
    "mcp__archon__delete_task",
    "mcp__supabase__search_docs",
    "mcp__supabase__list_organizations",
    "mcp__supabase__get_organization",
    "mcp__supabase__list_projects",
    "mcp__supabase__get_project",
    "mcp__supabase__get_cost",
    "mcp__supabase__confirm_cost",
    "mcp__supabase__list_tables",
    "mcp__supabase__list_extensions",
    "mcp__supabase__list_migrations",
    "mcp__supabase__execute_sql",
    "mcp__supabase__get_logs",
    "mcp__supabase__get_advisors",
    "mcp__supabase__get_project_url",
    "mcp__supabase__get_anon_key",
    "mcp__supabase__generate_typescript_types"
  ],
  "allowedToolsGuarded": [
    {
      "name": "mcp__supabase__apply_migration",
      "preToolUse": {
        "guardScript": "scripts/guard-nonprod-only.py",
        "confirmationRequired": true,
        "confirmationPrompt": "⚠️  MIGRATION EXECUTION WARNING ⚠️\n\nThis will apply a database migration which can:\n• Modify database schema permanently\n• Affect data integrity if not properly tested\n• Be difficult or impossible to rollback\n\nEnvironment: {environment}\nMigration: {migration_name}\n\nConfirm you want to proceed with this migration?",
        "metadata": {
          "description": "Database migration execution with production protection",
          "requirements": [
            "Non-production environment (CLAUDE_ENV != production)",
            "Explicit user confirmation",
            "Guard script validation"
          ],
          "safetyChecks": [
            "Environment validation via guard-nonprod-only.py",
            "User confirmation prompt with migration details",
            "Pre-execution validation of migration syntax"
          ]
        }
      }
    }
  ],
  "permissions": {
    "allow": [
      "mcp__supabase__list_migrations"
    ]
  }
}