{
  "$schema": "https://turbo.build/schema.json",
  "ui": "tui",
  "globalDependencies": [
    ".env",
    ".env.local",
    ".env.production",
    ".env.test",
    "tsconfig.json",
    "package.json",
    "pnpm-workspace.yaml",
    "biome.jsonc",
    "jest.config.js",
    "vitest.config.ts",
    "playwright.config.ts",
    "turbo.json"
  ],
  "tasks": {
    "build": {
      "dependsOn": ["^build", "type-check"],
      "inputs": [
        "$TURBO_DEFAULT$",
        ".env*",
        "next.config.*",
        "tsconfig.json",
        "tailwind.config.*",
        "postcss.config.*"
      ],
      "outputs": [
        ".next/**",
        "!.next/cache/**",
        "dist/**",
        "build/**",
        ".vercel/**"
      ],
      "env": [
        "NODE_ENV",
        "NEXT_PUBLIC_*",
        "SUPABASE_*",
        "DATABASE_URL",
        "VERCEL_*"
      ]
    },
    "dev": {
      "cache": false,
      "persistent": true,
      "dependsOn": ["^build"],
      "env": ["NODE_ENV", "NEXT_PUBLIC_*", "SUPABASE_*", "DATABASE_URL"]
    },
    "test": {
      "dependsOn": ["build"],
      "inputs": [
        "$TURBO_DEFAULT$",
        "vitest.config.*",
        "jest.config.*",
        "**/*.test.*",
        "**/*.spec.*",
        "__tests__/**",
        "tests/**"
      ],
      "outputs": ["coverage/**", "test-results/**", ".nyc_output/**"],
      "env": ["NODE_ENV", "TEST_*", "CI"]
    },
    "test:healthcare": {
      "dependsOn": ["build", "test"],
      "inputs": [
        "$TURBO_DEFAULT$",
        "packages/devops/src/testing/**",
        "**/*.healthcare.test.*",
        "**/*.compliance.test.*"
      ],
      "outputs": ["coverage/healthcare/**", "test-results/healthcare/**"],
      "env": [
        "NODE_ENV",
        "HEALTHCARE_TEST_MODE",
        "LGPD_COMPLIANCE_MODE",
        "ANVISA_COMPLIANCE_MODE",
        "CFM_COMPLIANCE_MODE"
      ]
    },
    "test:compliance": {
      "dependsOn": ["build"],
      "inputs": [
        "$TURBO_DEFAULT$",
        "packages/devops/src/testing/**",
        "**/*.lgpd.test.*",
        "**/*.anvisa.test.*",
        "**/*.cfm.test.*"
      ],
      "outputs": ["compliance-reports/**", "audit-trails/**"],
      "env": ["NODE_ENV", "COMPLIANCE_VALIDATION_MODE", "AUDIT_TRAIL_ENABLED"]
    },
    "test:e2e": {
      "dependsOn": ["build"],
      "inputs": [
        "$TURBO_DEFAULT$",
        "playwright.config.*",
        "**/*.e2e.*",
        "tests/e2e/**"
      ],
      "outputs": ["playwright-report/**", "test-results/**"],
      "env": ["NODE_ENV", "E2E_BASE_URL", "PLAYWRIGHT_*"]
    },
    "lint": {
      "dependsOn": ["^lint"],
      "inputs": [
        "$TURBO_DEFAULT$",
        "biome.jsonc",
        ".eslintrc.*",
        "**/*.{js,jsx,ts,tsx,vue,svelte}"
      ],
      "outputs": ["lint-results/**"]
    },
    "lint:healthcare": {
      "dependsOn": ["lint"],
      "inputs": [
        "$TURBO_DEFAULT$",
        "packages/devops/**",
        "apps/web/app/**",
        "packages/compliance/**"
      ],
      "outputs": ["lint-results/healthcare/**"]
    },
    "type-check": {
      "dependsOn": ["^type-check"],
      "inputs": ["$TURBO_DEFAULT$", "tsconfig.json", "**/*.{ts,tsx}"],
      "outputs": ["**/*.tsbuildinfo"]
    },
    "format": {
      "inputs": ["$TURBO_DEFAULT$", "biome.jsonc", ".prettierrc.*"],
      "outputs": []
    },
    "clean": {
      "inputs": [],
      "outputs": [],
      "cache": false
    },
    "clean:healthcare": {
      "inputs": [],
      "outputs": [],
      "cache": false,
      "dependsOn": ["clean"]
    },
    "db:generate": {
      "inputs": [
        "packages/db/prisma/schema.prisma",
        "infrastructure/database/migrations/**"
      ],
      "outputs": ["packages/db/prisma/generated/**", "types/supabase.ts"],
      "cache": false
    },
    "db:push": {
      "inputs": [
        "packages/db/prisma/schema.prisma",
        "infrastructure/database/migrations/**"
      ],
      "outputs": [],
      "cache": false
    },
    "db:migrate": {
      "inputs": ["infrastructure/database/migrations/**"],
      "outputs": [],
      "cache": false
    },
    "healthcare:validate": {
      "dependsOn": [
        "build",
        "test:healthcare",
        "test:compliance",
        "lint:healthcare"
      ],
      "inputs": ["$TURBO_DEFAULT$", "packages/devops/src/testing/**"],
      "outputs": [
        "healthcare-validation-report.json",
        "compliance-certification.json"
      ],
      "env": ["NODE_ENV", "HEALTHCARE_VALIDATION_MODE", "QUALITY_THRESHOLD"]
    },
    "healthcare:audit": {
      "dependsOn": ["healthcare:validate"],
      "inputs": [
        "$TURBO_DEFAULT$",
        "packages/compliance/**",
        "audit-trails/**"
      ],
      "outputs": [
        "healthcare-audit-report.json",
        "regulatory-compliance-report.json"
      ],
      "cache": false
    },
    "security:scan": {
      "inputs": ["$TURBO_DEFAULT$", "package.json", "pnpm-lock.yaml"],
      "outputs": ["security-scan-results.json", "vulnerability-report.json"]
    },
    "performance:test": {
      "dependsOn": ["build"],
      "inputs": ["$TURBO_DEFAULT$", "performance/**"],
      "outputs": ["performance-reports/**", "lighthouse-reports/**"]
    },
    "accessibility:test": {
      "dependsOn": ["build"],
      "inputs": ["$TURBO_DEFAULT$", "accessibility/**"],
      "outputs": ["accessibility-reports/**", "wcag-compliance-report.json"]
    },
    "quality:gate": {
      "dependsOn": [
        "healthcare:validate",
        "security:scan",
        "performance:test",
        "accessibility:test"
      ],
      "inputs": ["$TURBO_DEFAULT$"],
      "outputs": ["quality-gate-report.json", "overall-quality-score.json"],
      "env": ["QUALITY_THRESHOLD", "HEALTHCARE_QUALITY_MODE"]
    },
    "deploy:prepare": {
      "dependsOn": ["quality:gate"],
      "inputs": ["$TURBO_DEFAULT$", "vercel.json", "Dockerfile*"],
      "outputs": ["deployment-artifacts/**"]
    },
    "docker:build": {
      "dependsOn": ["build"],
      "inputs": ["$TURBO_DEFAULT$", "Dockerfile*", ".dockerignore"],
      "outputs": [],
      "cache": false
    },
    "docker:prune": {
      "inputs": ["$TURBO_DEFAULT$"],
      "outputs": ["out/**"]
    }
  },
  "remoteCache": {
    "signature": true,
    "preflight": true,
    "timeout": 30,
    "uploadTimeout": 60
  },
  "cacheDir": ".turbo/cache",
  "daemon": true,
  "globalPassThroughEnv": [
    "NODE_ENV",
    "CI",
    "VERCEL",
    "NEXT_PUBLIC_*",
    "SUPABASE_*",
    "DATABASE_URL",
    "HEALTHCARE_*",
    "LGPD_*",
    "ANVISA_*",
    "CFM_*",
    "QUALITY_*"
  ]
}
