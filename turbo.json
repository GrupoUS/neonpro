{
  "$schema": "https://turbo.build/schema.json",
  "globalPassThroughEnv": [
    "NODE_ENV",
    "VERCEL_ENV",
    "CI"
  ],
  "globalDependencies": [
    "**/.env.*local",
    "**/package.json",
    "**/tsconfig.json",
    "biome.jsonc",
    "pnpm-workspace.yaml"
  ],
  "globalEnv": [
    "NODE_ENV",
    "VERCEL_ENV",
    "CI",
    "TURBO_TOKEN",
    "TURBO_TEAM"
  ],
  "remoteCache": {
    "signature": true,
    "enabled": true,
    "timeout": 30
  },
  "experimentalSpaces": {
    "id": "neonpro-aesthetic-clinic"
  },
  "pipeline": {
    "build": {
      "dependsOn": ["^build"],
      "inputs": [
        "src/**/*.{ts,tsx,js,jsx}",
        "app/**/*.{ts,tsx,js,jsx}",
        "components/**/*.{ts,tsx}",
        "lib/**/*.{ts,tsx}",
        "styles/**/*.{css,scss}",
        "public/**/*",
        "package.json",
        "tsconfig.json",
        "next.config.*",
        "tailwind.config.*",
        "!**/__tests__/**",
        "!**/*.test.*",
        "!**/*.spec.*"
      ],
      "outputs": [
        ".next/**",
        "!.next/cache/**",
        "dist/**",
        "build/**"
      ],
      "env": [
        "NEXT_PUBLIC_*",
        "DATABASE_URL", 
        "NEXTAUTH_*",
        "SUPABASE_*",
        "OPENAI_*",
        "STRIPE_*",
        "RESEND_*"
      ]
    },
    "build:ai-models": {
      "dependsOn": ["^build"],
      "inputs": [
        "packages/ai/**/*.{ts,tsx,js,jsx}",
        "apps/web/lib/ai/**/*.{ts,tsx}",
        "apps/web/components/ai/**/*.{ts,tsx}",
        "models/**/*",
        "training-data/**/*"
      ],
      "outputs": [
        "packages/ai/dist/**",
        "packages/ai/.next/**",
        ".next/cache/ai-models/**",
        "ai-models/**"
      ],
      "env": [
        "OPENAI_*",
        "TENSORFLOW_*",
        "AI_MODEL_*",
        "PREDICTION_*"
      ]
    },
    "schedule:optimize": {
      "dependsOn": ["^build"],
      "inputs": [
        "packages/core-services/src/scheduling/**/*.{ts,tsx}",
        "apps/web/app/**/scheduling/**/*.{ts,tsx}",
        "apps/web/components/scheduling/**/*.{ts,tsx}",
        "packages/ai/src/scheduling/**/*.{ts,tsx}"
      ],
      "outputs": [
        "packages/core-services/dist/scheduling/**",
        ".next/cache/scheduling/**"
      ],
      "env": [
        "SCHEDULING_*",
        "CALENDAR_*",
        "APPOINTMENT_*"
      ]
    },
    "treatments:validate": {
      "dependsOn": ["^build"],
      "inputs": [
        "packages/core-services/src/treatments/**/*.{ts,tsx}",
        "apps/web/app/**/treatments/**/*.{ts,tsx}",
        "apps/web/components/treatments/**/*.{ts,tsx}",
        "packages/compliance/src/treatments/**/*.{ts,tsx}"
      ],
      "outputs": [
        "packages/core-services/dist/treatments/**",
        ".next/cache/treatments/**",
        "compliance-reports/treatments/**"
      ],
      "env": [
        "TREATMENT_*",
        "MEDICAL_*",
        "ANVISA_*",
        "CFM_*"
      ]
    },
    "lint": {
      "inputs": [
        "**/*.{ts,tsx,js,jsx}",
        ".eslintrc.*",
        "biome.jsonc"
      ],
      "outputs": []
    },
    "type-check": {
      "dependsOn": ["^build"],
      "outputs": ["**/*.tsbuildinfo"]
    },
    "test": {
      "dependsOn": ["build"],
      "outputs": ["coverage/**"]
    },
    "test:unit": {
      "dependsOn": ["build"],
      "outputs": ["coverage/**"]
    },
    "test:integration": {
      "dependsOn": ["build", "test:unit"],
      "outputs": ["coverage/**"]
    },
    "dev": {
      "cache": false,
      "persistent": true
    },
    "compliance:check": {
      "dependsOn": ["compliance:lgpd", "compliance:anvisa", "compliance:cfm"],
      "inputs": [
        "compliance-reports/lgpd/**",
        "compliance-reports/anvisa/**", 
        "compliance-reports/cfm/**"
      ],
      "outputs": ["compliance-reports/summary/**"],
      "env": ["COMPLIANCE_*"]
    },
    "compliance:lgpd": {
      "dependsOn": ["build"],
      "inputs": [
        "packages/compliance/src/lgpd/**/*.{ts,tsx}",
        "apps/web/app/**/privacy/**/*.{ts,tsx}",
        "apps/web/components/privacy/**/*.{ts,tsx}",
        "packages/core-services/src/privacy/**/*.{ts,tsx}"
      ],
      "outputs": ["compliance-reports/lgpd/**"],
      "env": [
        "LGPD_*",
        "PRIVACY_*",
        "GDPR_*",
        "DATA_PROTECTION_*"
      ]
    },
    "compliance:anvisa": {
      "dependsOn": ["build"],
      "inputs": [
        "packages/compliance/src/anvisa/**/*.{ts,tsx}",
        "apps/web/app/**/medical/**/*.{ts,tsx}",
        "packages/core-services/src/medical/**/*.{ts,tsx}",
        "packages/core-services/src/treatments/**/*.{ts,tsx}"
      ],
      "outputs": ["compliance-reports/anvisa/**"],
      "env": [
        "ANVISA_*",
        "MEDICAL_*",
        "HEALTH_REGULATION_*"
      ]
    },
    "compliance:cfm": {
      "dependsOn": ["build"],
      "inputs": [
        "packages/compliance/src/cfm/**/*.{ts,tsx}",
        "apps/web/app/**/professional/**/*.{ts,tsx}",
        "packages/core-services/src/professional/**/*.{ts,tsx}"
      ],
      "outputs": ["compliance-reports/cfm/**"],
      "env": [
        "CFM_*",
        "MEDICAL_PROFESSIONAL_*",
        "CERTIFICATION_*"
      ]
    },
    "security:audit": {
      "dependsOn": ["build"],
      "inputs": [
        "packages/security/**/*.{ts,tsx}",
        "packages/auth/**/*.{ts,tsx}",
        "apps/web/middleware/**/*.{ts,tsx}",
        "apps/web/app/**/api/**/*.{ts,tsx}",
        "package.json",
        "pnpm-lock.yaml"
      ],
      "outputs": [
        "security-reports/**",
        ".turbo/security-cache/**"
      ],
      "env": [
        "SECURITY_*",
        "AUTH_*",
        "ENCRYPTION_*",
        "AUDIT_*"
      ]
    },
    "clean": {
      "cache": false
    },
    "format": {
      "inputs": [
        "**/*.{ts,tsx,js,jsx,json,md}",
        ".prettierrc.*",
        "biome.jsonc"
      ],
      "outputs": []
    }
  }
}