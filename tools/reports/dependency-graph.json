{
  "generated": "2025-09-06T10:30:00.000Z",
  "project": "NeonPro Healthcare Platform",
  "phase": "Phase 2: Dependency Graph Analysis",
  "total_packages": 15,
  "active_packages": 8,
  "archived_packages": 7,
  "dependency_analysis": {
    "workspace_dependencies": {
      "nodes": [
        {
          "id": "@neonpro/config",
          "type": "configuration",
          "status": "active",
          "size": "20K",
          "dependencies": [],
          "dependents": [
            "@neonpro/core-services",
            "@neonpro/security"
          ]
        },
        {
          "id": "@neonpro/database",
          "type": "infrastructure",
          "status": "active",
          "size": "5.4M",
          "dependencies": [],
          "dependents": [
            "@neonpro/core-services",
            "@neonpro/shared",
            "@neonpro/utils"
          ]
        },
        {
          "id": "@neonpro/utils",
          "type": "utility",
          "status": "active", 
          "size": "1.6M",
          "dependencies": ["@neonpro/database"],
          "dependents": [
            "@neonpro/core-services",
            "@neonpro/ui"
          ]
        },
        {
          "id": "@neonpro/types",
          "type": "types",
          "status": "active",
          "size": "2.9M",
          "dependencies": [],
          "dependents": [
            "@neonpro/security"
          ]
        },
        {
          "id": "@neonpro/core-services",
          "type": "business_logic",
          "status": "active",
          "size": "9.0M",
          "dependencies": [
            "@neonpro/database",
            "@neonpro/utils",
            "@neonpro/config"
          ],
          "dependents": []
        },
        {
          "id": "@neonpro/shared",
          "type": "shared_types",
          "status": "active",
          "size": "4.1M", 
          "dependencies": ["@neonpro/database"],
          "dependents": []
        },
        {
          "id": "@neonpro/security",
          "type": "security",
          "status": "active",
          "size": "2.7M",
          "dependencies": [
            "@neonpro/config",
            "@neonpro/types"
          ],
          "dependents": []
        },
        {
          "id": "@neonpro/ui",
          "type": "components",
          "status": "active",
          "size": "3.8M",
          "dependencies": ["@neonpro/utils"],
          "dependents": []
        }
      ],
      "edges": [
        {
          "from": "@neonpro/core-services",
          "to": "@neonpro/database",
          "type": "direct_dependency",
          "usage": "ORM client, database operations"
        },
        {
          "from": "@neonpro/core-services", 
          "to": "@neonpro/utils",
          "type": "direct_dependency",
          "usage": "utility functions, validation"
        },
        {
          "from": "@neonpro/core-services",
          "to": "@neonpro/config",
          "type": "dev_dependency",
          "usage": "build configuration"
        },
        {
          "from": "@neonpro/shared",
          "to": "@neonpro/database",
          "type": "direct_dependency", 
          "usage": "database client, schemas"
        },
        {
          "from": "@neonpro/ui",
          "to": "@neonpro/utils",
          "type": "direct_dependency",
          "usage": "utility functions, class merging"
        },
        {
          "from": "@neonpro/utils",
          "to": "@neonpro/database",
          "type": "direct_dependency",
          "usage": "database-related utilities"
        },
        {
          "from": "@neonpro/security",
          "to": "@neonpro/config",
          "type": "peer_dependency",
          "usage": "build configuration"
        },
        {
          "from": "@neonpro/security",
          "to": "@neonpro/types",
          "type": "peer_dependency",
          "usage": "type definitions"
        }
      ]
    },
    "external_dependencies": {
      "common_across_packages": [
        {
          "name": "zod",
          "used_by": 7,
          "packages": [
            "@neonpro/core-services",
            "@neonpro/shared",
            "@neonpro/security", 
            "@neonpro/database",
            "@neonpro/utils",
            "@neonpro/ai",
            "@neonpro/compliance"
          ],
          "purpose": "Schema validation"
        },
        {
          "name": "@supabase/supabase-js",
          "used_by": 6,
          "packages": [
            "@neonpro/database",
            "@neonpro/shared",
            "@neonpro/security",
            "@neonpro/utils",
            "@neonpro/ai",
            "@neonpro/integrations"
          ],
          "purpose": "Database client"
        },
        {
          "name": "date-fns",
          "used_by": 4,
          "packages": [
            "@neonpro/core-services",
            "@neonpro/ui",
            "@neonpro/utils",
            "@neonpro/compliance"
          ],
          "purpose": "Date utilities"
        },
        {
          "name": "typescript",
          "used_by": 8,
          "packages": "all_packages",
          "purpose": "Type checking"
        }
      ],
      "specialized_dependencies": {
        "ui_components": [
          {
            "name": "@radix-ui/react-*",
            "packages": ["@neonpro/ui"],
            "count": 15,
            "purpose": "Accessible UI primitives"
          },
          {
            "name": "lucide-react",
            "packages": ["@neonpro/ui"],
            "purpose": "Icons"
          },
          {
            "name": "class-variance-authority",
            "packages": ["@neonpro/ui"],
            "purpose": "Component variants"
          }
        ],
        "security_auth": [
          {
            "name": "bcryptjs",
            "packages": ["@neonpro/security", "@neonpro/auth"],
            "purpose": "Password hashing"
          },
          {
            "name": "jsonwebtoken",
            "packages": ["@neonpro/security", "@neonpro/shared", "@neonpro/auth"],
            "purpose": "JWT handling"
          },
          {
            "name": "speakeasy",
            "packages": ["@neonpro/security", "@neonpro/auth"],
            "purpose": "MFA/2FA"
          }
        ],
        "database_orm": [
          {
            "name": "@prisma/client",
            "packages": ["@neonpro/database"],
            "purpose": "ORM client"
          },
          {
            "name": "prisma",
            "packages": ["@neonpro/database"],
            "purpose": "ORM tooling"
          }
        ]
      }
    },
    "archived_package_dependencies": {
      "still_referencing_active": [
        {
          "package": "@neonpro/auth",
          "status": "deprecated_merged_into_security",
          "references": [
            "@neonpro/types",
            "@neonpro/utils", 
            "@neonpro/core-services",
            "@neonpro/config"
          ]
        },
        {
          "package": "@neonpro/ai",
          "status": "archived",
          "references": [
            "@neonpro/core-services",
            "@neonpro/database",
            "@neonpro/types",
            "@neonpro/ui"
          ]
        },
        {
          "package": "@neonpro/compliance",
          "status": "archived_critical",
          "references": [
            "@neonpro/types",
            "@neonpro/config",
            "@neonpro/security"
          ]
        },
        {
          "package": "@neonpro/integrations",
          "status": "archived",
          "references": [
            "@neonpro/database"
          ]
        },
        {
          "package": "@neonpro/cache",
          "status": "archived",
          "references": [
            "@neonpro/types",
            "@neonpro/core-services",
            "@neonpro/config"
          ]
        }
      ]
    }
  },
  "import_analysis": {
    "static_imports": {
      "active_packages": [
        {
          "package": "@neonpro/core-services",
          "imports_from": [
            "@neonpro/security (UnifiedAuditService)"
          ],
          "exports_used_by": [
            "apps/api",
            "apps/web"
          ]
        },
        {
          "package": "@neonpro/shared", 
          "imports_from": [],
          "exports_used_by": [
            "apps/api",
            "apps/web",
            "templates (commented)"
          ]
        }
      ],
      "template_references": [
        {
          "file": "packages/shared/src/templates/healthcare-api-template.ts",
          "commented_imports": [
            "@neonpro/utils",
            "@neonpro/api/middleware"
          ]
        },
        {
          "file": "packages/shared/src/templates/healthcare-feature-template.ts",
          "commented_imports": [
            "@neonpro/utils",
            "@neonpro/core-services",
            "@neonpro/monitoring"
          ]
        }
      ]
    },
    "dynamic_imports": {
      "lazy_loading": "none_detected",
      "conditional_imports": "none_detected"
    }
  },
  "circular_dependencies": {
    "detected": false,
    "analysis": "No circular dependencies found in active packages. Clean dependency hierarchy."
  },
  "dependency_depth_analysis": {
    "max_depth": 2,
    "levels": {
      "level_0": [
        "@neonpro/config",
        "@neonpro/database", 
        "@neonpro/types"
      ],
      "level_1": [
        "@neonpro/utils",
        "@neonpro/security"
      ],
      "level_2": [
        "@neonpro/core-services",
        "@neonpro/shared",
        "@neonpro/ui"
      ]
    }
  },
  "entry_points": {
    "applications": {
      "apps/api": {
        "imports": [
          "@neonpro/core-services",
          "@neonpro/database",
          "@neonpro/security",
          "@neonpro/shared"
        ]
      },
      "apps/web": {
        "imports": [
          "@neonpro/ui",
          "@neonpro/shared", 
          "@neonpro/database",
          "@neonpro/security"
        ]
      }
    }
  },
  "consolidation_impact": {
    "types_shared_merge": {
      "affected_packages": ["@neonpro/types", "@neonpro/shared"],
      "dependency_changes": [
        "Remove @neonpro/types dependency from @neonpro/security",
        "Update imports from @neonpro/types to @neonpro/shared/types"
      ]
    },
    "compliance_reintegration": {
      "target": "@neonpro/security",
      "source": "@neonpro/compliance",
      "dependency_changes": [
        "Merge compliance dependencies into security",
        "Update archived package references"
      ]
    }
  }
}