# ğŸš€ NEONPRO DEVELOPMENT CONSTITUTION

## ğŸ§  FILOSOFIA CENTRAL

**Mantra**: _"Think â†’ Research â†’ Decompose â†’ Plan â†’ Implement â†’ Validate"_
**PrincÃ­pio**: KISS + YAGNI - Simplicidade que funciona sobre complexidade que nÃ£o funciona
**CoordenaÃ§Ã£o**: EspecializaÃ§Ã£o focada com workflows inteligentes - Agente certo, hora certa

## ğŸ¯ REGRAS UNIVERSAIS OBRIGATÃ“RIAS

### **ARCHON-FIRST RULE**

Sempre usar Archon MCP para task management, knowledge management e organizaÃ§Ã£o do projeto.

### **SEQUÃŠNCIA MCP OBRIGATÃ“RIA**

1. **`sequential-thinking`** â†’ AnÃ¡lise e decomposiÃ§Ã£o (SEMPRE primeiro)
2. **`archon`** â†’ Task setup e knowledge base
3. **`serena`** â†’ AnÃ¡lise de codebase (NUNCA busca nativa)
4. **Contextuais** â†’ Conforme necessidade (context7, web-search, etc.)
5. **`desktop-commander`** â†’ ImplementaÃ§Ã£o e operaÃ§Ãµes

### **FERRAMENTAS MCP MANDATÃ“RIAS**

- **`serena mcp`**: Busca e anÃ¡lise semÃ¢ntica de cÃ³digo _(NUNCA usar busca nativa)_
- **`supabase mcp`**: OperaÃ§Ãµes de database
- **`archon mcp`**: Task e knowledge management
- **`desktop-commander mcp`**: OperaÃ§Ãµes de arquivo e sistema
- **`context7 mcp`**: AnÃ¡lise contextual profunda _(NUNCA usar contexto nativo)_
- **`web-search mcp`**: Pesquisas web em tempo real
- **`vision-mcp`**: AnÃ¡lise de imagens e multimÃ­dia

## ğŸ¤– COORDENAÃ‡ÃƒO DE AGENTES

### **ğŸ“‹ Registro de Agentes**

#### ğŸš€ Agentes Core (Sempre DisponÃ­veis)

**`apex-dev`** - Coordenador Principal

- **Triggers**: "desenvolver", "implementar", "cÃ³digo", "feature", "bug", "refatorar", "auditoria"
- **EspecializaÃ§Ã£o**: Full-stack + healthcare + refatoraÃ§Ã£o + seguranÃ§a integrada
- **Tecnologias**: TanStack Router + Vite + React 19 + TypeScript + tRPC
- **Modos**: Standard, Architecture, Refactor, Security Audit

**`apex-researcher`** - InteligÃªncia de Pesquisa

- **Triggers**: "pesquisar", "analisar", "investigar", "validar", "research", "compliance"
- **EspecializaÃ§Ã£o**: Multi-fonte (Context7 â†’ Web Search â†’ Archon) + validaÃ§Ã£o cruzada â‰¥95%
- **Capacidades**: Evidence-based implementation, compliance validation

**`apex-ui-ux-designer`** - ExcelÃªncia em Design

- **Triggers**: "design", "ui", "ux", "interface", "pÃ¡gina", "componente", "acessibilidade"
- **EspecializaÃ§Ã£o**: WCAG 2.1 AA+ + shadcn/ui v4 + mobile-first + healthcare UX
- **MCP**: IntegraÃ§Ã£o automÃ¡tica com registries shadcn

#### âš™ï¸ Agentes Especializados (Sob Demanda)

**`code-reviewer`** - Qualidade de CÃ³digo

- **Triggers**: "revisar", "qualidade", "review", "anÃ¡lise", "performance"
- **EspecializaÃ§Ã£o**: AnÃ¡lise AI-powered + security scanning + performance

**`security-auditor`** - DevSecOps Expert

- **Triggers**: "seguranÃ§a", "vulnerabilidade", "auditoria", "compliance", "security"
- **EspecializaÃ§Ã£o**: OWASP + penetration testing + compliance frameworks

**`architect-review`** - Arquitetura de Sistema

- **Triggers**: "arquitetura", "design", "sistema", "microservices", "patterns"
- **EspecializaÃ§Ã£o**: Clean architecture + DDD + distributed systems

**`tdd-orchestrator`** - CoordenaÃ§Ã£o TDD

- **Triggers**: "tdd", "teste", "testing", "quality", "coverage"
- **EspecializaÃ§Ã£o**: Red-Green-Refactor + multi-agent coordination

### **ğŸ¯ Matriz de AtivaÃ§Ã£o Inteligente**

#### Por Complexidade

**Baixa Complexidade**

- **Agente**: `apex-dev` (solo)
- **SituaÃ§Ã£o**: Bug fixes, feature simples, refatoraÃ§Ã£o local
- **MCP**: sequential-thinking â†’ archon â†’ serena â†’ desktop-commander

**MÃ©dia Complexidade**

- **Agentes**: `apex-dev` + 1-2 especialistas
- **SituaÃ§Ã£o**: Features com UI, APIs, integraÃ§Ã£o
- **MCP**: + context7 para research adicional

**Alta Complexidade**

- **Agentes**: CoordenaÃ§Ã£o multi-agent
- **SituaÃ§Ã£o**: Arquitetura, sistemas distribuÃ­dos, compliance crÃ­tico
- **MCP**: + web-search para validaÃ§Ã£o abrangente

#### Por Palavra-chave (Auto-ativaÃ§Ã£o)

```yaml
TRIGGERS_AUTOMATICOS:
  desenvolvimento: ["desenvolver", "implementar", "cÃ³digo", "feature", "bug"]
  pesquisa: ["pesquisar", "analisar", "investigar", "validar", "research"]
  design: ["design", "ui", "ux", "interface", "pÃ¡gina", "componente"]
  qualidade: ["revisar", "quality", "performance", "otimizar", "refactor"]
  seguranÃ§a: ["security", "vulnerabilidade", "audit", "compliance"]
  arquitetura: ["architecture", "sistema", "patterns", "microservices"]
  testes: ["teste", "tdd", "testing", "coverage", "quality"]
```

#### DecisÃ£o: Sequential vs Paralelo

**Sequential (DependÃªncias lineares)**

- Research â†’ Development â†’ Design â†’ Testing
- Architecture â†’ Implementation â†’ Security Review

**Paralelo (Tarefas independentes)**

- Code Review + Security Audit + Performance Analysis
- UI Design + Backend Development (apÃ³s definiÃ§Ã£o de contratos)

### **DecisÃ£o RÃ¡pida de Agente**

```yaml
QUANDO_USAR_AGENTES:
  dÃºvida: "Comece com @apex-dev - ele coordena outros conforme necessÃ¡rio"
  desenvolvimento: "@apex-dev (coordenador principal + full-stack)"
  pesquisa: "@apex-researcher (multi-fonte + compliance)"
  design: "@apex-ui-ux-designer (WCAG 2.1 AA+ + shadcn/ui)"
  qualidade: "@code-reviewer (anÃ¡lise + performance)"
  seguranÃ§a: "@security-auditor (DevSecOps + compliance)"
  arquitetura: "@architect-review (clean architecture + patterns)"
```

## ğŸ”„ WORKFLOWS ESSENCIAIS

### 1. Desenvolvimento Completo de Feature

```yaml
sequence: 1. apex-researcher â†’ "ValidaÃ§Ã£o tecnolÃ³gica e best practices"
  2. apex-dev â†’ "ImplementaÃ§Ã£o core + architecture mode se necessÃ¡rio"
  3. apex-ui-ux-designer â†’ "Interface otimizada (se aplicÃ¡vel)"
  4. code-reviewer â†’ "ValidaÃ§Ã£o final de qualidade"
output: "Feature production-ready com qualidade validada"
```

### 2. Research-Driven Implementation

```yaml
sequence: 1. apex-researcher â†’ "Multi-source research e compliance"
  2. apex-dev â†’ "ImplementaÃ§Ã£o baseada em evidÃªncias"
  3. code-reviewer â†’ "Quality gates e security check"
output: "ImplementaÃ§Ã£o evidence-based com qualidade garantida"
```

### 3. Qualidade & SeguranÃ§a Integrada

```yaml
parallel:
  - code-reviewer â†’ "AnÃ¡lise de qualidade e performance"
  - security-auditor â†’ "Auditoria seguranÃ§a e vulnerabilidades"
  - apex-dev â†’ "CorreÃ§Ãµes coordenadas e otimizaÃ§Ãµes"
output: "CÃ³digo seguro e otimizado"
```

### 4. Arquitetura & Sistema

```yaml
sequence: 1. architect-review â†’ "Design e padrÃµes arquiteturais"
  2. apex-dev â†’ "ImplementaÃ§Ã£o seguindo architecture mode"
  3. security-auditor â†’ "ValidaÃ§Ã£o seguranÃ§a arquitetural"
output: "Sistema bem arquitetado e seguro"
```

## âš¡ COMANDOS RÃPIDOS

### Agente Ãšnico

```bash
@apex-dev "implementar autenticaÃ§Ã£o JWT com refresh token"
@apex-researcher "validar padrÃµes LGPD para dados de pacientes"
@apex-ui-ux-designer "criar interface de agendamento acessÃ­vel"
@code-reviewer "analisar performance da API de pacientes"
```

### MÃºltiplos Agentes (Paralelo)

```bash
@apex-dev,code-reviewer "implementar e revisar sistema de notificaÃ§Ãµes"
@apex-ui-ux-designer,apex-dev "criar dashboard responsivo com backend"
@security-auditor,code-reviewer "auditoria completa de seguranÃ§a"
```

### Workflows Completos

```bash
@apex-researcher,apex-dev "pesquisar e implementar integraÃ§Ã£o FHIR"
@architect-review,apex-dev,security-auditor "design e implementaÃ§Ã£o microservice seguro"
@apex-researcher,apex-dev,apex-ui-ux-designer,code-reviewer "feature completa de telemedicina"
```

## ğŸ“‹ WORKFLOW ARCHON OBRIGATÃ“RIO

**ANTES de qualquer cÃ³digo:**

1. **Check Current Task** â†’ Revisar detalhes e requisitos no Archon
2. **Research for Task** â†’ Buscar docs e exemplos relevantes
3. **Implement Task** â†’ Escrever cÃ³digo baseado em research
4. **Update Status** â†’ Mover task "todo" â†’ "doing" â†’ "review"
5. **Get Next Task** â†’ Verificar prÃ³xima prioridade

**Task Management:**

- Atualizar todas aÃ§Ãµes no Archon
- Nunca mover diretamente para "complete" (sempre passar por "review")
- Manter descriÃ§Ãµes e adicionar notas de implementaÃ§Ã£o
- NÃƒO FAZER SUPOSIÃ‡Ã•ES - checar documentaÃ§Ã£o do projeto

## ğŸ’¡ PRINCÃPIOS CONSTITUCIONAIS

### **KISS Principle**

- Escolher soluÃ§Ã£o mais simples que atende requisitos
- CÃ³digo legÃ­vel sobre otimizaÃ§Ãµes inteligentes
- Reduzir carga cognitiva
- Evitar over-engineering

### **YAGNI Principle**

- Construir apenas o que requisitos especificam
- Resistir features "por precauÃ§Ã£o"
- Refatorar quando requisitos emergirem
- Focar nas user stories atuais

### **Chain of Thought**

- Quebrar problemas em passos sequenciais
- Verbalizar processo de raciocÃ­nio
- Mostrar decisÃµes intermediÃ¡rias
- Validar contra requisitos

## ğŸš€ METODOLOGIA A.P.T.E

**Analyze** â†’ AnÃ¡lise abrangente de requisitos
**Plan** â†’ Planejamento estratÃ©gico de implementaÃ§Ã£o
**Think** â†’ Meta-cogniÃ§Ã£o e avaliaÃ§Ã£o multi-perspectiva
**Execute** â†’ ImplementaÃ§Ã£o sistemÃ¡tica com quality gates

**PadrÃ£o de Qualidade**: â‰¥9.5/10 em todas as entregas

## âš¡ OTIMIZAÃ‡Ã•ES DE PERFORMANCE

### **Build & Runtime**

- **Turborepo**: Cache inteligente para builds 3-5x mais rÃ¡pidos
- **Bun**: Scripts e testes (3-5x performance vs npm)
- **PNPM**: Package management eficiente
- **Vite**: Dev server <2s startup, HMR <100ms

### **Desenvolvimento**

- **TypeScript Strict**: MÃ¡xima type safety
- **TanStack Router**: Type-safe routing end-to-end
- **tRPC v11**: API type-safe sem overhead
- **Prisma**: ORM com auto-generated types

## ğŸ”’ SEGURANÃ‡A & COMPLIANCE

### **Healthcare Compliance (AutomÃ¡tico)**

- **LGPD**: ProteÃ§Ã£o de dados de pacientes
- **ANVISA**: RegulamentaÃ§Ãµes de dispositivos mÃ©dicos
- **CFM**: PadrÃµes profissionais mÃ©dicos
- **WCAG 2.1 AA+**: Acessibilidade obrigatÃ³ria

### **Security Standards**

- ValidaÃ§Ã£o de input obrigatÃ³ria
- SanitizaÃ§Ã£o e escape de dados
- AutenticaÃ§Ã£o multi-fator
- Audit logging completo
- Encryption at rest + in transit

## ğŸ¯ QUALITY GATES UNIVERSAIS

### **Funcionalidade**

- Todos requisitos atendidos
- Funcionalidade existente preservada
- Backward compatibility mantida

### **SeguranÃ§a**

- Zero vulnerabilidades introduzidas
- Compliance mantido
- Audit trail completo

### **Performance**

- Sem degradaÃ§Ã£o em paths crÃ­ticos
- OtimizaÃ§Ã£o onde apropriado
- Core Web Vitals: LCP â‰¤2.5s, INP â‰¤200ms, CLS â‰¤0.1

### **Manutenibilidade**

- CÃ³digo legÃ­vel e bem estruturado
- DocumentaÃ§Ã£o adequada
- Test coverage â‰¥90% (componentes crÃ­ticos)

## ğŸ”§ MCP TOOLS ESSENCIAIS

### ObrigatÃ³rios (Todos os Agentes)

- **`sequential-thinking`**: SEMPRE primeiro passo - anÃ¡lise e decomposiÃ§Ã£o
- **`archon`**: Task management e knowledge base (nunca pular)
- **`serena`**: AnÃ¡lise de codebase (NUNCA usar busca nativa)

### Por Contexto

```yaml
research_stack:
  - context7: DocumentaÃ§Ã£o oficial e frameworks
  - web-search: InformaÃ§Ãµes atuais e trends
  - vision-mcp: AnÃ¡lise de imagens e multimÃ­dia

development_stack:
  - desktop-commander: OperaÃ§Ãµes de arquivo e sistema
  - supabase-mcp: Database operations
  - shadcn-ui: Componentes e registries (UI/UX agent)

quality_stack:
  - IntegraÃ§Ã£o CI/CD via desktop-commander
  - Testes automatizados e coverage
  - Security scanning tools

vision_stack:
  - zai-mcp-server: AnÃ¡lise de imagens e vÃ­deos
  - web-search: Busca de imagens e referÃªncias visuais
```

### SequÃªncia MCP PadrÃ£o

1. **sequential-thinking** (anÃ¡lise)
2. **archon** (task setup)
3. **serena** (codebase context)
4. **Contextuais** (conforme necessidade)
5. **desktop-commander** (implementaÃ§Ã£o)

## ğŸš« RESTRIÃ‡Ã•ES UNIVERSAIS

### **NUNCA FAÃ‡A**

- Alterar funcionalidade sem aprovaÃ§Ã£o explÃ­cita
- Remover testes sem cobertura equivalente
- Usar busca de codebase nativa (sempre Serena MCP)
- Pular workflow Archon obrigatÃ³rio
- Proceder com <85% de confianÃ§a
- Deletar arquivos `/docs` sem aprovaÃ§Ã£o

### **SEMPRE FAÃ‡A**

- Iniciar com sequential-thinking
- Completar ciclo Archon antes de cÃ³digo
- Pesquisar antes de implementaÃ§Ãµes crÃ­ticas
- Seguir princÃ­pios KISS e YAGNI
- Atualizar status no Archon continuamente
- Validar qualidade antes de completar
- Continuar atÃ© conclusÃ£o absoluta

## ğŸ“š REFERÃŠNCIAS CRÃTICAS

### **DocumentaÃ§Ã£o ObrigatÃ³ria**

- **[Workflow Completo](./docs/AGENTS.md)** - Processo de desenvolvimento mandatÃ³rio
- **[Tech Stack](./docs/architecture/tech-stack.md)** - DecisÃµes tecnolÃ³gicas e rationale
- **[Source Tree](./docs/architecture/source-tree.md)** - OrganizaÃ§Ã£o do cÃ³digo

### **Arquitetura & PadrÃµes**

- **[Coding Standards](./docs/rules/coding-standards.md)** - PadrÃµes de cÃ³digo obrigatÃ³rios
- **[Frontend Architecture](./docs/architecture/frontend-architecture.md)** - Estrutura de frontend
- **[Database Schema](./docs/database-schema/AGENTS.md)** - OrganizaÃ§Ã£o de dados

### **Agentes Individuais**

- **[APEX Dev](./agents/apex-dev.md)** - EspecializaÃ§Ã£o full-stack
- **[APEX Research](./agents/apex-researcher.md)** - InteligÃªncia de pesquisa
- **[APEX UI/UX](./agents/apex-ui-ux-designer.md)** - Design e acessibilidade
- **[Code Review](./agents/code-review/code-reviewer.md)** - Qualidade de cÃ³digo
- **[Security](./agents/code-review/security-auditor.md)** - Auditoria de seguranÃ§a
- **[Architecture](./agents/code-review/architect-review.md)** - Arquitetura de sistema

---

**ğŸ¯ REGRA DE OURO**: Em caso de dÃºvida, comece com `@apex-dev` - ele coordena e ativa outros conforme necessÃ¡rio.

**âš¡ EFICIÃŠNCIA**: Use o agente certo na hora certa. Use workflows predefinidos para tarefas complexas, agentes Ãºnicos para tarefas focadas.

**ğŸ”„ MELHORIA CONTÃNUA**: Sistema Archon captura learnings - feedback sempre integrado aos workflows.

---

## ğŸ¨ NEONPRO THEME + UI COMPONENTS ADDITIONS

**Recent Theme Technologies**:
- **shadcn CLI**: Theme installation and configuration
- **Tailwind CSS**: CSS variables in oklch format
- **Local Fonts**: Inter, Lora, Libre Baskerville installation
- **Context API**: Theme persistence with localStorage
- **WCAG 2.1 AA**: Accessibility compliance for aesthetic clinics
- **Symlinks**: Shared configuration across monorepo apps

**UI Components Integration**:
- **Magic UI**: Magic Card, Animated Theme Toggler, Shine Border (âœ… installed)
- **Aceternity UI**: Sidebar, Hover Border Gradient Button (âœ… installed)
- **Kokonut UI**: Gradient Button (Particle Button)
- **ReactBits**: Tilted Card (manual implementation)
- **Multiple Registries**: Magic UI, Aceternity UI, Kokonut UI registry support
- **Icon Libraries**: Lucide React + @tabler/icons-react compatibility
- **Framer Motion v11.0.0**: Animation library compatibility across all components

**Theme Integration**:
- CLI + manual adjustments approach
- Packages directory installation for shared consumption
- Light/dark mode support with professional aesthetic clinic colors
- Mobile-first Brazilian aesthetic clinic experience